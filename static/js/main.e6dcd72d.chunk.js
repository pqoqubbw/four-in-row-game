(this["webpackJsonpgame-core-tsx"]=this["webpackJsonpgame-core-tsx"]||[]).push([[0],{17:function(n,e,r){},18:function(n,e,r){"use strict";r.r(e);var l=r(1),t=r.n(l),c=r(11),u=r.n(c),a=r(6),i=r(0),o=function(n){var e=n.game;return Object(i.jsx)(i.Fragment,{children:e.players&&e.players.map((function(n,e){return Object(i.jsx)("div",{children:Object(i.jsxs)("h3",{children:[n.name,': "',n.sign,'"']})},e)}))})},s=r(10),d=r(3),b=function(n){var e=n.clearBoard,r=n.clearField,l=n.children;return Object(i.jsx)("button",{className:"clearButton",onClick:function(){e(0),r()},children:l})},j=function(n){var e=n.currentPlayerIndex,r=n.players,t=Object(l.useState)(""),c=Object(d.a)(t,2),u=c[0],a=c[1];return Object(l.useEffect)((function(){a(r[e])}),[e,r]),Object(i.jsxs)("div",{className:"nextPlayer",children:["Next Player: ",u]})},f=function(n){var e=n.board,r=n.isError,l=n.handleClick,t=0;return Object(i.jsx)(i.Fragment,{children:e?Object(i.jsx)("table",{className:"table-bordered",children:Object(i.jsx)("tbody",{children:e.map((function(n,e){return Object(i.jsx)("tr",{children:n&&n.map((function(n,c){return Object(i.jsx)("td",{className:"cell ".concat(r?"error":""," ").concat(n?"".concat(n):""),id:String(t++),tabIndex:1,onClick:function(){return l({x:e,y:c})},children:n},t)}))},t)}))})}):Object(i.jsx)("div",{children:"something goes wrong, sorry!"})})};f.defaultProps={board:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],isError:!1,handleClick:function(){return console.error(new Error("Draw Board must have a props ' handleClick() '"))}};var x,m=t.a.memo(f);!function(n){n.move="move",n.update="update",n.win="win",n.draw="draw"}(x||(x={}));var v=function(n){var e=n.game,r=e.field.size,t=r.x,c=r.y,u=Object(l.useState)([]),a=Object(d.a)(u,2),o=a[0],f=a[1],v=Object(l.useState)(!1),O=Object(d.a)(v,2),h=O[0],y=O[1],g=Object(l.useState)(""),p=Object(d.a)(g,2),w=p[0],k=p[1],F=function(n){k(n)},I=Object(l.useCallback)((function(){f([]);for(var n=0;n<t;++n)f((function(n){return[].concat(Object(s.a)(n),[new Array(c).fill(null)])}))}),[t,c]);Object(l.useEffect)((function(){return I(),e.on.subscribe(x.move,(function(n){var r=n.x,l=n.y;return e.makeMove({x:r,y:l})})),e.on.subscribe(x.update,(function(n){var e=n.x,r=n.y,l=n.sign;return N({x:e,y:r,sign:l})})),e.on.subscribe(x.win,(function(n){return F(n)})),e.on.subscribe(x.draw,(function(n){return F(n)})),function(){B(),e.clearBoard(0),e.on.events={}}}),[e]);var N=function(n){n.x;var e=n.y,r=n.sign;f((function(n){for(var l=5;l>=0;l--)if(null===n[l][e]){n[l][e]=r;break}return Object(s.a)(n)}))},B=function(){I(),k(""),y(!1)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(j,{players:e.gameInfo.playersList,currentPlayerIndex:e.currentPlayerIndex}),Object(i.jsx)(m,{board:o,isError:h,handleClick:function(n){var r=n.x,l=n.y;o[r][l]||e.isFinished?y(!0):(y(!1),e.on.trigger(x.move,{x:r,y:l}))}}),Object(i.jsx)(b,{clearBoard:function(){return e.clearBoard(0)},clearField:B,children:"reset game"}),Object(i.jsx)("div",{className:"winnerText",children:e.isFinished?"".concat(w," wins"):""})]})},O=t.a.memo(v),h=r(2),y=r(8),g=r(7),p=[[0,1,2,3],[41,40,39,38],[7,8,9,10],[34,33,32,31],[14,15,16,17],[27,26,25,24],[21,22,23,24],[20,19,18,17],[28,29,30,31],[13,12,11,10],[35,36,37,38],[6,5,4,3],[0,7,14,21],[41,34,27,20],[1,8,15,22],[40,33,26,19],[2,9,16,23],[39,32,25,18],[3,10,17,24],[38,31,24,17],[4,11,18,25],[37,30,23,16],[5,12,19,26],[36,29,22,15],[6,13,20,27],[35,28,21,14],[0,8,16,24],[41,33,25,17],[7,15,23,31],[34,26,18,10],[14,22,30,38],[27,19,11,3],[35,29,23,17],[6,12,18,24],[28,22,16,10],[13,19,25,31],[21,15,9,3],[20,26,32,38],[36,30,24,18],[5,11,17,23],[37,31,25,19],[4,10,16,22],[2,10,18,26],[39,31,23,15],[1,9,17,25],[40,32,24,16],[9,17,25,33],[8,16,24,32],[11,17,23,29],[12,18,24,30],[1,2,3,4],[5,4,3,2],[8,9,10,11],[12,11,10,9],[15,16,17,18],[19,18,17,16],[22,23,24,25],[26,25,24,23],[29,30,31,32],[33,32,31,30],[36,37,38,39],[40,39,38,37],[7,14,21,28],[8,15,22,29],[9,16,23,30],[10,17,24,31],[11,18,25,32],[12,19,26,33],[13,20,27,34]],w=function(n){Object(y.a)(r,n);var e=Object(g.a)(r);function r(){var n;Object(h.a)(this,r);for(var l=arguments.length,t=new Array(l),c=0;c<l;c++)t[c]=arguments[c];return(n=e.call.apply(e,[this].concat(t))).getName=function(){return"FourInRow"},n.checkWin=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=null===n||void 0===n?void 0:n.slice().flat(),r=p.some((function(n){return e[n[0]]&&e[n[0]]===e[n[1]]&&e[n[1]]===e[n[2]]&&e[n[2]]===e[n[3]]}));return!!r},n.setPlayerToken=function(n){var e=["turquoise","orange"];return null===n||void 0===n?void 0:n.slice().map((function(n,r){return{name:n,sign:e[r]}}))},n.setValue=function(e,r,l,t){for(var c=5;c>=0;c--)if(0===e[c][l]){e[c][l]=t+1,n.isTurnValid(e,c,l,0);break}},n.isTurnValid=function(n,e,r,l){return n[e][r]===l},n}return r}(a.b),k=(r(17),new a.a({playersList:["Jackson","Alex"],strategy:new w,fieldSize:{x:6,y:7}})),F=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("div",{children:Object(i.jsx)("h1",{children:"FourInRow Game"})}),Object(i.jsx)(O,{game:k}),Object(i.jsx)(o,{game:k})]})};u.a.render(Object(i.jsx)(F,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e6dcd72d.chunk.js.map