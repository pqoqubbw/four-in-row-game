(this["webpackJsonpgame-core-tsx"]=this["webpackJsonpgame-core-tsx"]||[]).push([[0],{17:function(e,n,r){},18:function(e,n,r){"use strict";r.r(n);var t=r(1),c=r.n(t),a=r(11),i=r.n(a),o=r(3),s=r(4),u=r(0),l=function(e){var n=e.game;return Object(u.jsx)(u.Fragment,{children:n.players&&n.players.map((function(e,n){return Object(u.jsx)("div",{children:Object(u.jsxs)("h3",{children:[e.name,': "',e.sign,'"']})},n)}))})},b=r(9),j=function(e){var n=e.clearBoard,r=e.clearField,t=e.children;return Object(u.jsx)("button",{className:"clearButton",onClick:function(){n(0),r()},children:t})},d=function(e){var n=e.currentPlayerIndex,r=e.players,c=Object(t.useState)(""),a=Object(o.a)(c,2),i=a[0],s=a[1];return Object(t.useEffect)((function(){s(r[n])}),[n,r]),Object(u.jsxs)("div",{className:"nextPlayer",children:["Next Player: ",i]})},f=function(e){var n=e.board,r=e.isError,t=e.handleClick,c=(e.value,0);return Object(u.jsx)(u.Fragment,{children:n&&n.map((function(e,n){return Object(u.jsx)("tr",{children:e&&e.map((function(e,a){return Object(u.jsx)("td",{className:"cell ".concat(r?"error":""," ").concat(e?"".concat(e):""),id:String(c++),tabIndex:1,onClick:function(){return t({x:n,y:a})},children:e},c)}))},c)}))})};f.defaultProps={board:[[null,null,null],[null,null,null],[null,null,null]],isError:!1,handleClick:function(){return console.error(new Error("Draw Board must have a props ' handleClick() '"))}};var x=c.a.memo(f),O=function(e){var n=e.game,r=n.field.size,c=r.x,a=r.y,i=Object(t.useState)([]),s=Object(o.a)(i,2),l=s[0],f=s[1],O=Object(t.useState)(!1),v=Object(o.a)(O,2),h=v[0],m=v[1],g=Object(t.useState)(""),y=Object(o.a)(g,2),p=y[0],w=y[1],k=function(e){w(e)},T=Object(t.useCallback)((function(){f([]);for(var e=0;e<c;++e)f((function(e){return[].concat(Object(b.a)(e),[new Array(a).fill(null)])}))}),[c,a]);Object(t.useEffect)((function(){T(),n.on.subscribe("move",(function(e){var r=e.x,t=e.y;return n.makeMove({x:r,y:t})})),n.on.subscribe("update",(function(e){var n=e.x,r=e.y,t=e.sign;return I({x:n,y:r,sign:t})})),n.on.subscribe("win",(function(e){return k(e)})),n.on.subscribe("draw",(function(e){return k(e)}))}),[n]);var F=function(e){var n=e.x,r=e.y,t=e.sign;f((function(e){return e[n][r]=t,Object(b.a)(e)}))},I=function(e){var r=e.x,t=e.y,c=e.sign;switch(n.gameInfo.strategy.getName()){case"TicTacToe":F({x:r,y:t,sign:c});break;case"FourInRow":!function(e){e.x;var n=e.y,r=e.sign;f((function(e){for(var t=5;t>=0;t--)if(null===e[t][n]){e[t][n]=r;break}return Object(b.a)(e)}))}({x:r,y:t,sign:c});break;default:F({x:r,y:t,sign:c})}};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d,{players:n.gameInfo.playersList,currentPlayerIndex:n.currentPlayerIndex}),Object(u.jsx)("table",{className:"table-bordered",children:Object(u.jsx)("tbody",{children:Object(u.jsx)(x,{board:l,isError:h,handleClick:function(e){var r=e.x,t=e.y;l[r][t]||n.isFinished?m(!0):(m(!1),n.on.trigger("move",{x:r,y:t}))}})})}),Object(u.jsx)(j,{clearBoard:function(){return n.clearBoard(0)},clearField:function(){T(),w(""),m(!1)},children:"reset game"}),Object(u.jsx)("div",{className:"winnerText",children:n.isFinished?"".concat(p," wins"):""})]})},v=c.a.memo(O),h=(r(17),r(2)),m=r(8),g=r(7),y=function(e){Object(m.a)(r,e);var n=Object(g.a)(r);function r(){var e;Object(h.a)(this,r);for(var t=arguments.length,c=new Array(t),a=0;a<t;a++)c[a]=arguments[a];return(e=n.call.apply(n,[this].concat(c))).getName=function(){return"FourInRow"},e.checkWin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[[0,1,2,3],[41,40,39,38],[7,8,9,10],[34,33,32,31],[14,15,16,17],[27,26,25,24],[21,22,23,24],[20,19,18,17],[28,29,30,31],[13,12,11,10],[35,36,37,38],[6,5,4,3],[0,7,14,21],[41,34,27,20],[1,8,15,22],[40,33,26,19],[2,9,16,23],[39,32,25,18],[3,10,17,24],[38,31,24,17],[4,11,18,25],[37,30,23,16],[5,12,19,26],[36,29,22,15],[6,13,20,27],[35,28,21,14],[0,8,16,24],[41,33,25,17],[7,15,23,31],[34,26,18,10],[14,22,30,38],[27,19,11,3],[35,29,23,17],[6,12,18,24],[28,22,16,10],[13,19,25,31],[21,15,9,3],[20,26,32,38],[36,30,24,18],[5,11,17,23],[37,31,25,19],[4,10,16,22],[2,10,18,26],[39,31,23,15],[1,9,17,25],[40,32,24,16],[9,17,25,33],[8,16,24,32],[11,17,23,29],[12,18,24,30],[1,2,3,4],[5,4,3,2],[8,9,10,11],[12,11,10,9],[15,16,17,18],[19,18,17,16],[22,23,24,25],[26,25,24,23],[29,30,31,32],[33,32,31,30],[36,37,38,39],[40,39,38,37],[7,14,21,28],[8,15,22,29],[9,16,23,30],[10,17,24,31],[11,18,25,32],[12,19,26,33],[13,20,27,34]],r=null===e||void 0===e?void 0:e.slice().flat(),t=n.some((function(e){return r[e[0]]&&r[e[0]]===r[e[1]]&&r[e[1]]===r[e[2]]&&r[e[2]]===r[e[3]]}));return!!t},e.setPlayerToken=function(e){var n=["turquoise","orange"];return null===e||void 0===e?void 0:e.slice().map((function(e,r){return{name:e,sign:n[r]}}))},e.setValue=function(n,r,t,c){for(var a=5;a>=0;a--)if(0===n[a][t]){n[a][t]=c+1,e.isTurnValid(n,a,t,0);break}},e.isTurnValid=function(e,n,r,t){return e[n][r]===t},e}return r}(s.b),p=new s.a({playersList:["Jackson","Alex"],strategy:new s.c,fieldSize:{x:3,y:3}}),w=new s.a({playersList:["Jackson","Alex"],strategy:new y,fieldSize:{x:6,y:7}}),k=function(){var e=Object(t.useState)(p),n=Object(o.a)(e,2),r=n[0],c=n[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("label",{children:["Select game:",Object(u.jsxs)("select",{onChange:function(e){return function(e){switch(e.target.value){case"TicTacToe":case"FourInRow":c(w);break;default:c(p)}}(e)},children:[Object(u.jsx)("option",{value:"TicTacToe",children:"TicTacToe"}),Object(u.jsx)("option",{value:"FourInRow",children:"FourInRow"})]})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{game:r}),Object(u.jsx)(l,{game:r})]})]})};i.a.render(Object(u.jsx)(k,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.105fac40.chunk.js.map